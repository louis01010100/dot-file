# Tmux settings
set-option -wg mode-keys vi
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-pipe "reattach-to-user-namespace pbcopy"

# Set colors
set-option -g default-terminal "screen-256color"

set-option -g history-limit 10000
set-option -g status-utf8 on
set-option -g status-interval 5 
set-option -g status-right '%a %d %b %R'

#### Status Bar
set-option -g status-fg colour145
set-option -g status-bg colour235
set-option -g status-attr default
set-option -wg window-status-current-bg colour240
set-option -wg window-status-current-fg colour188
#set-option -wg window-status-fg colour255
#set-option -wg window-status-bg colour255

#### Command line color
set-option -g message-fg colour145
set-option -g message-bg colour235
set-option -g message-attr default

#set-option -g message-command-fg colour102
#set-option -g message-command-bg colour235

set-option -g automatic-rename

bind-key -n S-Left swap-window -t -1
bind-key -n S-Right swap-window -t +1

# pane border
set-option -g pane-border-fg colour238 #base02
set-option -g pane-active-border-fg colour130 #base01

#bind-key C-a send-prefix
set-option -g prefix 'C-a'
unbind-key C-b

set-option -s escape-time 0

set-option -sg base-index 1
set-option -wg pane-base-index 1
set-option -g renumber-windows on
bind-key & kill-window
bind-key x kill-pane
bind-key c new-window -n 'cli' -c "#{pane_current_path}"


set-option -wg mode-fg colour248
set-option -wg mode-bg colour237

# Use vim bindings

bind j select-pane -D
bind k select-pane -U
bind h select-pane -L
bind l select-pane -R

bind ] run "reattach-to-user-namespace pbpaste | tmux load-buffer - && tmux paste-buffer"


# Reload tmux config
bind-key r source-file ~/.tmux.conf

# Mouse
set-option -g mouse on

bind-key -n M-1 select-window -t 1
bind-key -n M-2 select-window -t 2
bind-key -n M-3 select-window -t 3
bind-key -n M-4 select-window -t 4
bind-key -n M-5 select-window -t 5
bind-key -n M-6 select-window -t 6
bind-key -n M-7 select-window -t 7
bind-key -n M-8 select-window -t 8
bind-key -n M-9 select-window -t 9

# List of plugins

# Other examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'git@github.com/user/plugin'
# set -g @plugin 'git@bitbucket.com/user/plugin'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
#set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tpm/'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'nhdaly/tmux-scroll-copy-mode'
set -g @plugin 'tmux-plugins/tmux-sessionist'
#set -g @plugin 'tmux-plugins/tmux-resurrect'
run '~/.tmux/plugins/tpm/tpm'

## Default
## Default Keymap
## C-b         Send the prefix key (C-b)
#
## Default Keymap
# C-b         Send the prefix key (C-b) through to the application.
# C-o         Rotate the panes in the current window forwards.
# C-z         Suspend the tmux client.
# !           Break the current pane out of the window.
# "           Split the current pane into two, top and bottom.
# #           List all paste buffers.
# $           Rename the current session.
# %           Split the current pane into two, left and right.
# &           Kill the current window.
# '           Prompt for a window index to select.
# ,           Rename the current window.
# -           Delete the most recently copied buffer of text.
# .           Prompt for an index to move the current window.
# 0 to 9      Select windows 0 to 9.
# :           Enter the tmux command prompt.
# ;           Move to the previously active pane.
# =           Choose which buffer to paste interactively from a list.
# ?           List all key bindings.
# D           Choose a client to detach.
# [           Enter copy mode to copy text or view the history.
# ]           Paste the most recently copied buffer of text.
# c           Create a new window.
# d           Detach the current client.
# f           Prompt to search for text in open windows.
# i           Display some information about the current window.
# l           Move to the previously selected window.
# n           Change to the next window.
# o           Select the next pane in the current window.
# p           Change to the previous window.
# q           Briefly display pane indexes.
# r           Force redraw of the attached client.
# s           Select a new session for the attached client interac‐
#             tively.
# L           Switch the attached client back to the last session.
# t           Show the time.
# w           Choose the current window interactively.
# x           Kill the current pane.
# {           Swap the current pane with the previous pane.
# f           Prompt to search for text in open windows.
# i           Display some information about the current window.
# l           Move to the previously selected window.
# n           Change to the next wndow.
# o           Select the next pane in the current window.
# p           Change to the previous window.
# q           Briefly display pane indexes.
# r           Force redraw of the attached client.
# s           Select a new session for the attached client interac‐
#             tively.
# L           Switch the attached client back to the last session.
# t           Show the time.
# w           Choose the current window interactively.
# x           Kill the current pane.
# {           Swap the current pane with the previous pane.
# }           Swap the current pane with the next pane.
# ~           Show previous messages from tmux, if any.
# Page Up     Enter copy mode and scroll one page up.
# Up, Down
# Left, Right
#             Change to the pane above, below, to the left, or to the
#             right of the current pane.
# M-1 to M-5  Arrange panes in one of the five preset layouts: even-
#             horizontal, even-vertical, main-horizontal, main-verti‐
#             cal, or tiled.
# M-n         Move to the next window with a bell or activity marker.
# M-o         Rotate the panes in the current window backwards.
# M-p         Move to the previous window with a bell or activity
#             marker.
# C-Up, C-Down
# C-Left, C-Right
#             Resize the current pane in steps of one cell.
# M-Up, M-Down
# M-Left, M-Right
#             Resize the current pane in steps of five cells.
## Default Options
# assume-paste-time 1                                                      
# base-index 0
# bell-action any
# bell-on-alert off
set-option -g default-command "reattach-to-user-namespace -l bash"
# default-path ""
# default-shell "/bin/bash"
# default-terminal "screen"
## don't keey unused sessions running
# set -g destroy-unattached on
# detach-on-destroy on
# display-panes-active-colour red
# display-panes-colour blue
# display-panes-time 1000
# display-time 750
# history-limit 2000
# lock-after-time 0
# lock-command "lock -np"
# lock-server on
# message-attr none
# message-bg yellow
# message-command-attr none
# message-command-bg black
# message-command-fg yellow
# message-fg black
# message-limit 20
# mouse-resize-pane off
# mouse-select-pane off
# mouse-select-window off
# mouse-utf8 on
# pane-active-border-bg default
# pane-active-border-fg green
# pane-border-bg default
# pane-border-fg default
# prefix C-t
# prefix2 none
## renumber windows when one is killed
# ie if windows are 1 2 3 and 2 is killed show 1 2, not 1 3
#set -g renumber-windows on
# repeat-time 500
# set-remain-on-exit off
# set-titles off
# set-titles-string "#S:#I:#W - "#T""
# status on
# status-bg green
# status-fg black
# status-interval 15
# status-justify left
# status-keys emacs
# status-left "[#[fg=green] #H #[default]]"
# status-left-attr none
# status-left-bg default
# status-left-fg default
# status-left-length 10
# status-position bottom
# status-right "[ #[fg=magenta]#(cat /proc/loadavg | cut -d " " -f 1,2,3)#[defaul"
# status-right-attr none
# status-right-bg default
# status-right-fg default
# status-right-length 50
# status-utf8 on
# terminal-overrides "*88col*:colors=88,*256col*:colors=256,xterm*:XT:Ms=\E]52;%p"
# update-environment "DISPLAY SSH_ASKPASS SSH_AUTH_SOCK SSH_AGENT_PID SSH_CONNECT"
# visual-activity off
# visual-bell off
# visual-content off
# visual-silence off
# word-separators " -_@"
#
#
# Default Copy-mode hotkeys
# Function                vi             emacs
#    Back to indentation     ^              M-m
#    Clear selection         Escape         C-g
#    Copy selection          Enter          M-w
#    Cursor down             j              Down
#    Cursor left             h              Left
#    Cursor right            l              Right
#    Cursor to bottom line   L
#    Cursor to middle line   M              M-r
#    Cursor to top line      H              M-R
#    Cursor up               k              Up
#    Delete entire line      d              C-u
#    Delete to end of line   D              C-k
#    End of line             $              C-e
#    Goto line               :              g
#    Half page down          C-d            M-Down
#    Half page up            C-u            M-Up
#    Next page               C-f            Page down
#    Next word               w              M-f
#    Paste buffer            p              C-y
#    Previous page           C-b            Page up
#    Previous word           b              M-b
#    Quit mode               q              Escape
#    Scroll down             C-Down or J    C-Down
#    Scroll up               C-Up or K      C-Up
#    Search again            n              n
#    Search backward         ?              C-r
#    Search forward          /              C-s
#    Start of line           0              C-a
#    Start selection         Space          C-Space
#    Transpose chars                        C-t
